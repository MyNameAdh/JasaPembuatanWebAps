}, index * 100);
                    });
                    observer.unobserve(entry.target);
                }
            });
        }, observerOptions);

        const menuGrid = document.querySelector('.menu-grid');
        if (menuGrid) observer.observe(menuGrid);

        // NAV SCROLL EFFECT
        window.addEventListener('scroll', () => {
            const nav = document.querySelector('nav');
            if (window.scrollY > 100) {
                nav.classList.add('scrolled');
            } else {
                nav.classList.remove('scrolled');
            }
        });

        // DARK MODE TOGGLE
        function toggleTheme() {
            const body = document.body;
            const btn = document.querySelector('.theme-toggle');
            
            body.classList.toggle('dark-mode');
            
            if (body.classList.contains('dark-mode')) {
                localStorage.setItem('theme', 'dark');
                btn.textContent = 'â˜€ï¸ Light Mode';
            } else {
                localStorage.setItem('theme', 'light');
                btn.textContent = 'ðŸŒ™ Dark Mode';
            }
        }

        // LOAD SAVED THEME
        window.addEventListener('load', () => {
            const savedTheme = localStorage.getItem('theme');
            const btn = document.querySelector('.theme-toggle');
            
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-mode');
                btn.textContent = 'â˜€ï¸ Light Mode';
            }
        });

        // Close menu when clicking outside
        document.addEventListener('click', (e) => {
            const navMenu = document.getElementById('navMenu');
            const hamburger = document.querySelector('.hamburger');
            
            if (!navMenu.contains(e.target) && !hamburger.contains(e.target)) {
                closeMenu();
            }
        });
    </script>

</body>
</html>
